<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Submit New Mod</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f0f0f0;
    }
    h2 { color: #349beb; }
    input, select, button {
      padding: 8px;
      margin: 5px 0;
      width: 300px;
    }
    button {
      cursor: pointer;
      background: #349beb;
      color: white;
      border: none;
      border-radius: 4px;
    }
    button:hover { background: #217bb5; }
  </style>
</head>
<body>

<h2>Add a New Mod</h2>

<input id="modName" placeholder="Mod Name"><br>
<input id="modLink" placeholder="Google Drive Link"><br>
<select id="category">
  <option value="jojo">Jojo</option>
  <option value="dmc">Dmc</option>
  <option value="onepiece">One-piece</option>
  <option value="others">Others</option>
  <option value="bleach">Bleach</option> <!-- Add more if needed -->
</select><br>
<button id="submitBtn">Submit</button>

<script type="module">
  // Firebase imports
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

  // ðŸ”¥ Replace with your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyBft2VROf-gG3I1oZs1hCndpgNRLY9kPJw",
    authDomain: "gta-fs-mod.firebaseapp.com",
    projectId: "gta-fs-mod",
    storageBucket: "gta-fs-mod.firebasestorage.app",
    messagingSenderId: "956537035856",
    appId: "1:956537035856:web:69a59374451b982f76c555"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Submit Button click
  document.getElementById("submitBtn").addEventListener("click", async () => {
    const name = document.getElementById("modName").value.trim();
    const link = document.getElementById("modLink").value.trim();
    const category = document.getElementById("category").value;

    if (!name || !link) {
      return alert("Please enter Mod Name and Drive Link");
    }

    try {
      await addDoc(collection(db, "mods"), { name, link, category });
      alert("Mod added successfully!");
      document.getElementById("modName").value = "";
      document.getElementById("modLink").value = "";
    } catch (err) {
      console.error(err);
      alert("Error adding mod. Check console for details.");
    }
  });
</script>

</body>
</html>
